{"ast":null,"code":"import _slicedToArray from\"/Users/lironds/Documents/FullStack/HackerU/Projects/sniffle/sniffle-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{addOrRemoveCard,getFav}from\"../services/favServices\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var FavCards=function FavCards(_ref){var userInfo=_ref.userInfo;var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),favCards=_useState2[0],setFavCards=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),favCardsChanged=_useState4[0],setFavCardsChanged=_useState4[1];useEffect(function(){getFav(userInfo._id).then(function(res){setFavCards(res.data);}).catch(function(err){return console.log(err);});},[favCardsChanged]);var handleDeleteFromFav=function handleDeleteFromFav(card){if(window.confirm(\"Are you sure you want to remove this card from favorites?\")){addOrRemoveCard(card).then(function(res){setFavCardsChanged(!favCardsChanged);}).catch(function(err){return console.log(err);});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:favCards&&favCards.length?/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-md-3 g-4 justify-content-center \",children:favCards.map(function(card){return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3 mx-2\",style:{maxWidth:\"340px\",maxHeight:\"500px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\" g-0 mx-auto align-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:card.imageUrl,className:\"rounded-start p-1 object-fit-contain \",alt:card.imageAlt,width:\"200px\",height:\"150px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:card.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:card.description}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Phone: \",card.phone]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Email: \",card.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"City: \",card.city]}),/*#__PURE__*/_jsx(\"div\",{className:\"container d-flex justify-content-around\",children:/*#__PURE__*/_jsx(Link,{to:\"\",onClick:function onClick(){return handleDeleteFromFav(card);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-heart-fill\",style:{color:\"#df0c0c\",fontSize:\"22px\"}})})})]})})]})},card._id);})}):/*#__PURE__*/_jsx(\"h3\",{children:\"No cards to display\"})})});};export default FavCards;","map":{"version":3,"names":["useEffect","useState","addOrRemoveCard","getFav","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FavCards","_ref","userInfo","navigate","_useState","_useState2","_slicedToArray","favCards","setFavCards","_useState3","_useState4","favCardsChanged","setFavCardsChanged","_id","then","res","data","catch","err","console","log","handleDeleteFromFav","card","window","confirm","children","className","length","map","style","maxWidth","maxHeight","src","imageUrl","alt","imageAlt","width","height","title","description","phone","email","city","to","onClick","color","fontSize"],"sources":["/Users/lironds/Documents/FullStack/HackerU/Projects/sniffle/sniffle-client/src/components/FavCards.tsx"],"sourcesContent":["import { FunctionComponent, useEffect, useState } from \"react\";\nimport Card from \"../interfaces/Card\";\nimport { addOrRemoveCard, getFav, updateFav } from \"../services/favServices\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\ninterface FavCardsProps {\n  userInfo: any;\n}\n\nconst FavCards: FunctionComponent<FavCardsProps> = ({ userInfo }) => {\n  let navigate = useNavigate();\n\n  let [favCards, setFavCards] = useState<Card[]>([]);\n  let [favCardsChanged, setFavCardsChanged] = useState<boolean>(false);\n\n  useEffect(() => {\n    getFav(userInfo._id)\n      .then((res) => {\n        setFavCards(res.data);\n      })\n      .catch((err) => console.log(err));\n  }, [favCardsChanged]);\n\n  const handleDeleteFromFav = (card: Card) => {\n    if (window.confirm(\"Are you sure you want to remove this card from favorites?\")) {\n      addOrRemoveCard(card)\n        .then((res) => {\n          setFavCardsChanged(!favCardsChanged);\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        {favCards && favCards.length ? (\n          <div className=\"row row-cols-1 row-cols-md-3 g-4 justify-content-center \">\n            {favCards.map((card: Card) => (\n              <div\n                key={card._id}\n                className=\"card mb-3 mx-2\"\n                style={{ maxWidth: \"340px\", maxHeight: \"500px\" }}\n              >\n                <div className=\" g-0 mx-auto align-content-between\">\n                  <div className=\"text-center\">\n                    <img\n                      src={card.imageUrl}\n                      className=\"rounded-start p-1 object-fit-contain \"\n                      alt={card.imageAlt}\n                      width={\"200px\"}\n                      height={\"150px\"}\n                    />\n                  </div>\n                  <div className=\"col-md-12\">\n                    <div className=\"card-body d-flex flex-column\">\n                      <h5 className=\"card-title\">{card.title}</h5>\n                      <p className=\"card-text\">{card.description}</p>\n                      <hr />\n                      <p className=\"card-text\">Phone: {card.phone}</p>\n                      <p className=\"card-text\">Email: {card.email}</p>\n                      <p className=\"card-text\">City: {card.city}</p>\n                      <div className=\"container d-flex justify-content-around\">\n                        <Link to=\"\" onClick={() => handleDeleteFromFav(card)}>\n                          <i\n                            className=\"bi bi-heart-fill\"\n                            style={{ color: \"#df0c0c\", fontSize: \"22px\" }}\n                          />\n                        </Link>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <h3>No cards to display</h3>\n        )}\n      </div>\n    </>\n  );\n};\nexport default FavCards;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nlet api = `${process.env.REACT_APP_API}/users`;\nexport function checkUser(userToCheck) {\n  return axios.post(`http://localhost:10000/api/login`, userToCheck);\n}\n\n////no need for Authorization\n\nexport function addUser(newUser) {\n  return axios.post(`http://localhost:10000/api/register`, newUser);\n}\nexport function updateUser(_id, updatedUser) {\n  return axios.put(`${api}/${_id}`, updatedUser, {\n    headers: {\n      Authorization: JSON.parse(sessionStorage.getItem(\"token\")).token\n    }\n  });\n}\nexport function getUserById(_id) {\n  return axios.get(`${api}/${_id}`, {\n    headers: {\n      Authorization: JSON.parse(sessionStorage.getItem(\"token\")).token\n    }\n  });\n}\nexport function getUsers() {\n  return axios.get(api, {\n    headers: {\n      Authorization: JSON.parse(sessionStorage.getItem(\"token\")).token\n    }\n  });\n}\nexport function deleteUser(_id) {\n  return axios.delete(`${api}/${_id}`, {\n    headers: {\n      Authorization: JSON.parse(sessionStorage.getItem(\"token\")).token\n    }\n  });\n}\nexport function getTokenDetails() {\n  let token = JSON.parse(sessionStorage.getItem(\"token\")).token;\n  return jwt_decode(token);\n}","map":{"version":3,"names":["axios","jwt_decode","api","process","env","REACT_APP_API","checkUser","userToCheck","post","addUser","newUser","updateUser","_id","updatedUser","put","headers","Authorization","JSON","parse","sessionStorage","getItem","token","getUserById","get","getUsers","deleteUser","delete","getTokenDetails"],"sources":["/Users/lironds/Documents/FullStack/HackerU/Projects/sniffle/sniffle-client/src/services/usersServices.ts"],"sourcesContent":["import axios from \"axios\";\nimport User from \"../interfaces/User\";\nimport jwt_decode from \"jwt-decode\";\n\nlet api: string = `${process.env.REACT_APP_API}/users`;\n\ntype userLogin = Pick<User, \"email\" | \"password\">;\n\nexport function checkUser(userToCheck: userLogin) {\n  return axios.post(`http://localhost:10000/api/login`, userToCheck);\n}\n\n////no need for Authorization\n\nexport function addUser(newUser: User) {\n  return axios.post(`http://localhost:10000/api/register`, newUser);\n}\n\nexport function updateUser(_id: string, updatedUser: User) {\n  return axios.put(`${api}/${_id}`, updatedUser, {\n    headers: {\n      Authorization: JSON.parse(sessionStorage.getItem(\"token\") as string).token,\n    },\n  });\n}\n\nexport function getUserById(_id: string) {\n  return axios.get(`${api}/${_id}`, {\n    headers: {\n      Authorization: JSON.parse(sessionStorage.getItem(\"token\") as string).token,\n    },\n  });\n}\n\nexport function getUsers() {\n  return axios.get(api, {\n    headers: {\n      Authorization: JSON.parse(sessionStorage.getItem(\"token\") as string).token,\n    },\n  });\n}\n\nexport function deleteUser(_id: string) {\n  return axios.delete(`${api}/${_id}`, {\n    headers: {\n      Authorization: JSON.parse(sessionStorage.getItem(\"token\") as string).token,\n    },\n  });\n}\n\nexport function getTokenDetails() {\n  let token = JSON.parse(sessionStorage.getItem(\"token\") as string).token;\n  return jwt_decode(token);\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,UAAU,MAAM,YAAY;AAEnC,IAAIC,GAAW,GAAI,GAAEC,OAAO,CAACC,GAAG,CAACC,aAAc,QAAO;AAItD,OAAO,SAASC,SAASA,CAACC,WAAsB,EAAE;EAChD,OAAOP,KAAK,CAACQ,IAAI,CAAE,kCAAiC,EAAED,WAAW,CAAC;AACpE;;AAEA;;AAEA,OAAO,SAASE,OAAOA,CAACC,OAAa,EAAE;EACrC,OAAOV,KAAK,CAACQ,IAAI,CAAE,qCAAoC,EAAEE,OAAO,CAAC;AACnE;AAEA,OAAO,SAASC,UAAUA,CAACC,GAAW,EAAEC,WAAiB,EAAE;EACzD,OAAOb,KAAK,CAACc,GAAG,CAAE,GAAEZ,GAAI,IAAGU,GAAI,EAAC,EAAEC,WAAW,EAAE;IAC7CE,OAAO,EAAE;MACPC,aAAa,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAW,CAAC,CAACC;IACvE;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,WAAWA,CAACV,GAAW,EAAE;EACvC,OAAOZ,KAAK,CAACuB,GAAG,CAAE,GAAErB,GAAI,IAAGU,GAAI,EAAC,EAAE;IAChCG,OAAO,EAAE;MACPC,aAAa,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAW,CAAC,CAACC;IACvE;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,SAASG,QAAQA,CAAA,EAAG;EACzB,OAAOxB,KAAK,CAACuB,GAAG,CAACrB,GAAG,EAAE;IACpBa,OAAO,EAAE;MACPC,aAAa,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAW,CAAC,CAACC;IACvE;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,SAASI,UAAUA,CAACb,GAAW,EAAE;EACtC,OAAOZ,KAAK,CAAC0B,MAAM,CAAE,GAAExB,GAAI,IAAGU,GAAI,EAAC,EAAE;IACnCG,OAAO,EAAE;MACPC,aAAa,EAAEC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAW,CAAC,CAACC;IACvE;EACF,CAAC,CAAC;AACJ;AAEA,OAAO,SAASM,eAAeA,CAAA,EAAG;EAChC,IAAIN,KAAK,GAAGJ,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAW,CAAC,CAACC,KAAK;EACvE,OAAOpB,UAAU,CAACoB,KAAK,CAAC;AAC1B"},"metadata":{},"sourceType":"module","externalDependencies":[]}
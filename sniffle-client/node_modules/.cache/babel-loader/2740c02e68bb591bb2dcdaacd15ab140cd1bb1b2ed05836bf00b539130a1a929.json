{"ast":null,"code":"import _slicedToArray from\"/Users/lironds/Documents/FullStack/HackerU/Projects/sniffle/sniffle-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{deleteCard,getCards}from\"../services/cardsServices\";import{Link,useNavigate}from\"react-router-dom\";import{addOrRemoveCard}from\"../services/favServices\";import{successMsg}from\"../services/feedbacksServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(_ref){var userInfo=_ref.userInfo;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),cardsChanged=_useState4[0],setCardsChanged=_useState4[1];var navigate=useNavigate();var render=function render(){setCardsChanged(!cardsChanged);};useEffect(function(){getCards().then(function(res){return setCards(res.data);}).catch(function(err){return console.log(err);});},[cardsChanged]);var handleAddRemoveFromFav=function handleAddRemoveFromFav(card){addOrRemoveCard(card).then(function(res){}).catch(function(err){});};var handleDelete=function handleDelete(card){if(window.confirm(\"Are you sure you want to delete this card?\")){deleteCard(card._id).then(function(res){successMsg(\"Card removed successfully\");render();}).catch(function(err){return console.log(err);});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid pb-5\",style:{maxHeight:\"87vh\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container text-center my-3\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Sniffle!\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Here you can check our best friends\"})]}),cards.length?/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-md-3 g-4 justify-content-center \",children:cards.map(function(card){return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3 mx-2\",style:{maxWidth:\"340px\",maxHeight:\"500px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\" g-0 mx-auto align-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:card.imageUrl,className:\"rounded-start p-1 object-fit-contain \",alt:card.imageAlt,width:\"200px\",height:\"150px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:card.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:card.description}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Phone: \",card.phone]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Email: \",card.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"City: \",card.city]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-around\",children:[userInfo.role===\"admin\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:function onClick(){return handleDelete(card);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash3-fill\",style:{fontSize:\"22px\"}})}),/*#__PURE__*/_jsx(Link,{to:\"/cards/update/\".concat(card._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil-square p-auto\",style:{fontSize:\"22px\"}})})]}),userInfo.role&&/*#__PURE__*/_jsx(Link,{to:\"\",onClick:function onClick(){return handleAddRemoveFromFav(card);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-heart-fill\",style:{color:\"#df0c0c\",fontSize:\"22px\"}})}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle\",style:{fontSize:\"22px\"},onClick:function onClick(){return navigate(\"/cards/\".concat(card._id));}})]})]})})]})},card._id);})}):/*#__PURE__*/_jsx(\"h3\",{children:\"No cards to display\"})]})});};export default Home;","map":{"version":3,"names":["useEffect","useState","deleteCard","getCards","Link","useNavigate","addOrRemoveCard","successMsg","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","_ref","userInfo","_useState","_useState2","_slicedToArray","cards","setCards","_useState3","_useState4","cardsChanged","setCardsChanged","navigate","render","then","res","data","catch","err","console","log","handleAddRemoveFromFav","card","handleDelete","window","confirm","_id","children","className","style","maxHeight","length","map","maxWidth","src","imageUrl","alt","imageAlt","width","height","title","description","phone","email","city","role","to","onClick","fontSize","concat","color"],"sources":["/Users/lironds/Documents/FullStack/HackerU/Projects/sniffle/sniffle-client/src/components/Home.tsx"],"sourcesContent":["import { FunctionComponent, useEffect, useState } from \"react\";\nimport Card from \"../interfaces/Card\";\nimport { deleteCard, getCards } from \"../services/cardsServices\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { addOrRemoveCard, updateFav } from \"../services/favServices\";\nimport { successMsg } from \"../services/feedbacksServices\";\n\ninterface HomeProps {\n  userInfo: any;\n}\n\nconst Home: FunctionComponent<HomeProps> = ({ userInfo }) => {\n  let [cards, setCards] = useState<Card[]>([]);\n  let [cardsChanged, setCardsChanged] = useState<boolean>(false);\n\n  let navigate = useNavigate();\n\n  let render = () => {\n    setCardsChanged(!cardsChanged);\n  };\n  useEffect(() => {\n    getCards()\n      .then((res) => setCards(res.data))\n      .catch((err) => console.log(err));\n  }, [cardsChanged]);\n\n  let handleAddRemoveFromFav = (card: Card) => {\n    addOrRemoveCard(card)\n      .then((res) => {})\n      .catch((err) => {});\n  };\n  let handleDelete = (card: Card) => {\n    if (window.confirm(\"Are you sure you want to delete this card?\")) {\n      deleteCard(card._id as string)\n        .then((res) => {\n          successMsg(\"Card removed successfully\");\n\n          render();\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container-fluid pb-5\" style={{ maxHeight: \"87vh\" }}>\n        <div className=\"container text-center my-3\">\n          <h1>Welcome to Sniffle!</h1>\n          <h3>Here you can check our best friends</h3>\n        </div>\n        {cards.length ? (\n          <div className=\"row row-cols-1 row-cols-md-3 g-4 justify-content-center \">\n            {cards.map((card: Card) => (\n              <div\n                key={card._id}\n                className=\"card mb-3 mx-2\"\n                style={{ maxWidth: \"340px\", maxHeight: \"500px\" }}\n              >\n                <div className=\" g-0 mx-auto align-content-between\">\n                  <div className=\"text-center\">\n                    <img\n                      src={card.imageUrl}\n                      className=\"rounded-start p-1 object-fit-contain \"\n                      alt={card.imageAlt}\n                      width={\"200px\"}\n                      height={\"150px\"}\n                    />\n                  </div>\n                  <div className=\"col-md-12\">\n                    <div className=\"card-body d-flex flex-column\">\n                      <h5 className=\"card-title\">{card.title}</h5>\n                      <p className=\"card-text\">{card.description}</p>\n                      <hr />\n                      <p className=\"card-text\">Phone: {card.phone}</p>\n                      <p className=\"card-text\">Email: {card.email}</p>\n                      <p className=\"card-text\">City: {card.city}</p>\n                      <div className=\"container d-flex justify-content-around\">\n                        {userInfo.role === \"admin\" && (\n                          <>\n                            <Link to=\"/\" onClick={() => handleDelete(card)}>\n                              <i className=\"bi bi-trash3-fill\" style={{ fontSize: \"22px\" }}></i>\n                            </Link>\n                            <Link to={`/cards/update/${card._id}`}>\n                              <i\n                                className=\"bi bi-pencil-square p-auto\"\n                                style={{ fontSize: \"22px\" }}\n                              ></i>\n                            </Link>\n                          </>\n                        )}\n                        {userInfo.role && (\n                          <Link to=\"\" onClick={() => handleAddRemoveFromFav(card)}>\n                            <i\n                              className=\"bi bi-heart-fill\"\n                              style={{ color: \"#df0c0c\", fontSize: \"22px\" }}\n                            />\n                          </Link>\n                        )}\n                        <i\n                          className=\"bi bi-info-circle\"\n                          style={{ fontSize: \"22px\" }}\n                          onClick={() => navigate(`/cards/${card._id}`)}\n                        ></i>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <h3>No cards to display</h3>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
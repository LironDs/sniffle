{"ast":null,"code":"import _slicedToArray from\"/Users/lironds/Documents/FullStack/HackerU/Projects/sniffle/sniffle-client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{deleteCard,getCardsByUserId}from\"../services/cardsServices\";import{Link,useNavigate}from\"react-router-dom\";import{successMsg}from\"../services/feedbacksServices\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserCards=function UserCards(_ref){var userInfo=_ref.userInfo;var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),cardsChanged=_useState4[0],setCardsChanged=_useState4[1];var render=function render(){setCardsChanged(!cardsChanged);};useEffect(function(){getCardsByUserId(userInfo._id).then(function(res){return setCards(res.data);}).catch(function(err){return console.log(err);});},[cardsChanged]);var handleDelete=function handleDelete(card){deleteCard(card._id).then(function(res){successMsg(\"Card deleted successfully!\");render();}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[cards.length?/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-md-3 g-4\",children:cards.map(function(card){return/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3 mx-2\",style:{maxWidth:\"340px\",maxHeight:\"500px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\" g-0 mx-auto align-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:card.imageUrl,className:\"rounded-start p-1 object-fit-contain \",alt:card.imageAlt,width:\"200px\",height:\"150px\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:card.title}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:card.description}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Phone: \",card.phone]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"Email: \",card.email]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[\"City: \",card.city]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container d-flex justify-content-around\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",onClick:function onClick(){return handleDelete(card);},children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash3-fill\",style:{fontSize:\"22px\"}})}),/*#__PURE__*/_jsx(Link,{to:\"/cards/update/\".concat(card._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-pencil-square p-auto\",style:{fontSize:\"22px\"}})}),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-info-circle\",style:{fontSize:\"22px\"},onClick:function onClick(){return navigate(\"/cards/\".concat(card._id));}})]})]})})]})},card._id);})}):/*#__PURE__*/_jsx(\"h3\",{children:\"It seems like you have not created cards yet\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:function onClick(){return navigate(\"/cards/new\");},children:\"Add card\"})]})});};export default UserCards;","map":{"version":3,"names":["useEffect","useState","deleteCard","getCardsByUserId","Link","useNavigate","successMsg","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserCards","_ref","userInfo","navigate","_useState","_useState2","_slicedToArray","cards","setCards","_useState3","_useState4","cardsChanged","setCardsChanged","render","_id","then","res","data","catch","err","console","log","handleDelete","card","children","className","length","map","style","maxWidth","maxHeight","src","imageUrl","alt","imageAlt","width","height","title","description","phone","email","city","to","onClick","fontSize","concat","type"],"sources":["/Users/lironds/Documents/FullStack/HackerU/Projects/sniffle/sniffle-client/src/components/UserCards.tsx"],"sourcesContent":["import { FunctionComponent, useEffect, useState } from \"react\";\nimport { deleteCard, getCardsByUserId } from \"../services/cardsServices\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Card from \"../interfaces/Card\";\nimport { successMsg } from \"../services/feedbacksServices\";\n\ninterface UserCardsProps {\n  userInfo: any;\n}\n\nconst UserCards: FunctionComponent<UserCardsProps> = ({ userInfo }) => {\n  let navigate = useNavigate();\n  let [cards, setCards] = useState<Card[]>([]);\n  let [cardsChanged, setCardsChanged] = useState<boolean>(false);\n\n  let render = () => {\n    setCardsChanged(!cardsChanged);\n  };\n  useEffect(() => {\n    getCardsByUserId(userInfo._id)\n      .then((res) => setCards(res.data))\n      .catch((err) => console.log(err));\n  }, [cardsChanged]);\n  let handleDelete = (card: Card) => {\n    deleteCard(card._id as string)\n      .then((res) => {\n        successMsg(\"Card deleted successfully!\");\n        render();\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <>\n      <div className=\"container\">\n        {cards.length ? (\n          <div className=\"row row-cols-1 row-cols-md-3 g-4\">\n            {cards.map((card: Card) => (\n              <div\n                key={card._id}\n                className=\"card mb-3 mx-2\"\n                style={{ maxWidth: \"340px\", maxHeight: \"500px\" }}\n              >\n                <div className=\" g-0 mx-auto align-content-between\">\n                  <div className=\"text-center\">\n                    <img\n                      src={card.imageUrl}\n                      className=\"rounded-start p-1 object-fit-contain \"\n                      alt={card.imageAlt}\n                      width={\"200px\"}\n                      height={\"150px\"}\n                    />\n                  </div>\n                  <div className=\"col-md-12\">\n                    <div className=\"card-body d-flex flex-column\">\n                      <h5 className=\"card-title\">{card.title}</h5>\n                      <p className=\"card-text\">{card.description}</p>\n                      <hr />\n                      <p className=\"card-text\">Phone: {card.phone}</p>\n                      <p className=\"card-text\">Email: {card.email}</p>\n                      <p className=\"card-text\">City: {card.city}</p>\n                      <div className=\"container d-flex justify-content-around\">\n                        <Link to=\"/\" onClick={() => handleDelete(card)}>\n                          <i className=\"bi bi-trash3-fill\" style={{ fontSize: \"22px\" }}></i>\n                        </Link>\n                        <Link to={`/cards/update/${card._id}`}>\n                          <i\n                            className=\"bi bi-pencil-square p-auto\"\n                            style={{ fontSize: \"22px\" }}\n                          ></i>\n                        </Link>\n\n                        <i\n                          className=\"bi bi-info-circle\"\n                          style={{ fontSize: \"22px\" }}\n                          onClick={() => navigate(`/cards/${card._id}`)}\n                        ></i>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <h3>It seems like you have not created cards yet</h3>\n        )}\n        <button type=\"button\" className=\"btn btn-primary\" onClick={() => navigate(\"/cards/new\")}>\n          Add card\n        </button>\n      </div>\n    </>\n  );\n};\n\nexport default UserCards;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}